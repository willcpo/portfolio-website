{"version":3,"sources":["../src/server.js"],"names":["server","set","use","express","get","req","res","render","initialMarkup","ReactDOMServer","renderToString","url","listen","config","port","host","console","info"],"mappings":";;AAAA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;;;AACA,IAAMA,MAAM,GAAG,0BAAf;AAEAA,MAAM,CAACC,GAAP,CAAW,aAAX,EAA0B,KAA1B,E,CAEA;AACA;;AAGAD,MAAM,CAACE,GAAP,CAAWC,8BAAe,QAAf,CAAX;AAGAH,MAAM,CAACI,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAY;AAC3BA,EAAAA,GAAG,CAACC,MAAJ,CAAW,OAAX,EAAmB;AAClBC,IAAAA,aAAa,EAACC,mBAAeC,cAAf,CACZ,gCAAC,4BAAD;AAAc,MAAA,QAAQ,EAAEL,GAAG,CAACM,GAA5B;AAAiC,MAAA,OAAO,EAAE;AAAC,kBAAO;AAAR;AAA1C,OACA,gCAAC,eAAD,OADA,CADY;AADI,GAAnB;AAOA,CARD;AAWAX,MAAM,CAACY,MAAP,CAAcC,mBAAOC,IAArB,EAA2BD,mBAAOE,IAAlC,EAAwC,YAAI;AAC3CC,EAAAA,OAAO,CAACC,IAAR,CAAa,4BAAb,EAA2CJ,mBAAOC,IAAlD;AACA,CAFD","sourcesContent":["import config from \"./config\";\nimport React from \"react\";\nimport App from \"./components/App\";\n\nimport ReactDOMServer from \"react-dom/server\";\nimport { StaticRouter } from \"react-router-dom\";\n\nimport express from \"express\";\nconst server = express();\n\nserver.set(\"view engine\", \"ejs\");\n\n//REMEMBER TO BUILD FOR EVERY UPLOAD -- otherwise change to   \"start\": \"npm run build && node ./build/server.js\",\n//RUN npm run build\n\n\nserver.use(express.static(\"public\"));\n\n\nserver.get(\"*\", (req, res)=>{\n\tres.render(\"index\",{\n\t\tinitialMarkup:ReactDOMServer.renderToString(\n\t\t\t(<StaticRouter location={req.url} context={{static:true}}>\n\t\t\t\t<App />\n\t\t\t</StaticRouter>)\n\t\t)\n\t});\n});\n\n\nserver.listen(config.port, config.host, ()=>{\n\tconsole.info(\"Express listening on port \", config.port);\n});\n\n"],"file":"server.js"}